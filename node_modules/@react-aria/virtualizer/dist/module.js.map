{"mappings":"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","sources":["packages/@react-aria/virtualizer/src/index.ts","packages/@react-aria/virtualizer/src/Virtualizer.tsx","packages/@react-aria/virtualizer/src/ScrollView.tsx","packages/@react-aria/virtualizer/src/utils.ts","packages/@react-aria/virtualizer/src/VirtualizerItem.tsx","packages/@react-aria/virtualizer/src/useVirtualizerItem.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport * from './Virtualizer';\nexport * from './useVirtualizerItem';\nexport * from './VirtualizerItem';\nexport * from './ScrollView';\nexport * from './utils';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection} from '@react-types/shared';\nimport {focusWithoutScrolling, mergeProps, useLayoutEffect} from '@react-aria/utils';\nimport {Layout, Rect, ReusableView, useVirtualizerState, VirtualizerState} from '@react-stately/virtualizer';\nimport React, {FocusEvent, HTMLAttributes, Key, ReactElement, RefObject, useCallback, useEffect, useRef} from 'react';\nimport {ScrollView} from './ScrollView';\nimport {VirtualizerItem} from './VirtualizerItem';\n\ninterface VirtualizerProps<T extends object, V> extends HTMLAttributes<HTMLElement> {\n  children: (type: string, content: T) => V,\n  renderWrapper?: (\n    parent: ReusableView<T, V> | null,\n    reusableView: ReusableView<T, V>,\n    children: ReusableView<T, V>[],\n    renderChildren: (views: ReusableView<T, V>[]) => ReactElement[]\n  ) => ReactElement,\n  layout: Layout<T>,\n  collection: Collection<T>,\n  focusedKey?: Key,\n  sizeToFit?: 'width' | 'height',\n  scrollDirection?: 'horizontal' | 'vertical' | 'both',\n  transitionDuration?: number,\n  isLoading?: boolean,\n  onLoadMore?: () => void,\n  shouldUseVirtualFocus?: boolean,\n  scrollToItem?: (key: Key) => void\n}\n\nfunction Virtualizer<T extends object, V>(props: VirtualizerProps<T, V>, ref: RefObject<HTMLDivElement>) {\n  let {\n    children: renderView,\n    renderWrapper,\n    layout,\n    collection,\n    sizeToFit,\n    scrollDirection,\n    transitionDuration,\n    isLoading,\n    onLoadMore,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusedKey,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    shouldUseVirtualFocus,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    scrollToItem,\n    ...otherProps\n  } = props;\n\n  let fallbackRef = useRef<HTMLDivElement>();\n  ref = ref || fallbackRef;\n\n  let state = useVirtualizerState({\n    transitionDuration,\n    layout,\n    collection,\n    renderView,\n    renderWrapper: renderWrapper || defaultRenderWrapper,\n    onVisibleRectChange(rect) {\n      ref.current.scrollLeft = rect.x;\n      ref.current.scrollTop = rect.y;\n    }\n  });\n\n  let {virtualizerProps} = useVirtualizer(props, state, ref);\n\n  // Handle scrolling, and call onLoadMore when nearing the bottom.\n  let onVisibleRectChange = useCallback((rect: Rect) => {\n    state.setVisibleRect(rect);\n\n    if (!isLoading && onLoadMore) {\n      let scrollOffset = state.virtualizer.contentSize.height - rect.height * 2;\n      if (rect.y > scrollOffset) {\n        onLoadMore();\n      }\n    }\n  }, [isLoading, onLoadMore, state]);\n\n  useLayoutEffect(() => {\n    if (!isLoading && onLoadMore && !state.isAnimating) {\n      if (state.contentSize.height > 0 && state.contentSize.height <= state.virtualizer.visibleRect.height) {\n        onLoadMore();\n      }\n    }\n  }, [state.contentSize, state.isAnimating, state.virtualizer, onLoadMore, isLoading]);\n\n  return (\n    <ScrollView\n      {...mergeProps(otherProps, virtualizerProps)}\n      ref={ref}\n      innerStyle={state.isAnimating ? {transition: `none ${state.virtualizer.transitionDuration}ms`} : undefined}\n      contentSize={state.contentSize}\n      onVisibleRectChange={onVisibleRectChange}\n      onScrollStart={state.startScrolling}\n      onScrollEnd={state.endScrolling}\n      sizeToFit={sizeToFit}\n      scrollDirection={scrollDirection}>\n      {state.visibleViews}\n    </ScrollView>\n  );\n}\n\ninterface VirtualizerOptions {\n  focusedKey?: Key,\n  scrollToItem?: (key: Key) => void,\n  shouldUseVirtualFocus?: boolean\n}\n\nexport function useVirtualizer<T extends object, V, W>(props: VirtualizerOptions, state: VirtualizerState<T, V, W>, ref: RefObject<HTMLElement>) {\n  let {focusedKey, scrollToItem, shouldUseVirtualFocus} = props;\n  let {virtualizer} = state;\n\n  // Scroll to the focusedKey when it changes. Actually focusing the focusedKey\n  // is up to the implementation using Virtualizer since we don't have refs\n  // to all of the item DOM nodes.\n  let lastFocusedKey = useRef(null);\n  useEffect(() => {\n    if (virtualizer.visibleRect.height === 0) {\n      return;\n    }\n\n    if (focusedKey !== lastFocusedKey.current) {\n      if (scrollToItem) {\n        scrollToItem(focusedKey);\n      } else {\n        virtualizer.scrollToItem(focusedKey, {duration: 0});\n      }\n    }\n\n    lastFocusedKey.current = focusedKey;\n  }, [focusedKey, virtualizer.visibleRect.height, virtualizer, lastFocusedKey, scrollToItem]);\n\n  let isFocusWithin = useRef(false);\n  let onFocus = useCallback((e: FocusEvent) => {\n    // If the focused item is scrolled out of view and is not in the DOM, the collection\n    // will have tabIndex={0}. When tabbing in from outside, scroll the focused item into view.\n    // Ignore focus events that bubble through portals (e.g. focus that happens on a menu popover child of the virtualizer)\n    if (!isFocusWithin.current && ref.current.contains(e.target)) {\n      if (scrollToItem) {\n        scrollToItem(focusedKey);\n      } else {\n        virtualizer.scrollToItem(focusedKey, {duration: 0});\n      }\n    }\n\n    isFocusWithin.current = e.target !== ref.current;\n  }, [ref, virtualizer, focusedKey, scrollToItem]);\n\n  let onBlur = useCallback((e: FocusEvent) => {\n    isFocusWithin.current = ref.current.contains(e.relatedTarget as Element);\n  }, [ref]);\n\n  // When the focused item is scrolled out of view and is removed from the DOM,\n  // move focus to the collection view as a whole if focus was within before.\n  let focusedView = virtualizer.getView(focusedKey);\n  useEffect(() => {\n    if (focusedKey && !focusedView && isFocusWithin.current && document.activeElement !== ref.current) {\n      focusWithoutScrolling(ref.current);\n    }\n  });\n\n  // Set tabIndex to -1 if the focused view is in the DOM, otherwise 0 so that the collection\n  // itself is tabbable. When the collection receives focus, we scroll the focused item back into\n  // view, which will allow it to be properly focused. If using virtual focus, don't set a\n  // tabIndex at all so that VoiceOver on iOS 14 doesn't try to move real DOM focus to the element anyway.\n  let tabIndex: number;\n  if (!shouldUseVirtualFocus) {\n    tabIndex = focusedView ? -1 : 0;\n  }\n\n  return {\n    virtualizerProps: {\n      tabIndex,\n      onFocus,\n      onBlur\n    }\n  };\n}\n\n// forwardRef doesn't support generic parameters, so cast the result to the correct type\n// https://stackoverflow.com/questions/58469229/react-with-typescript-generics-while-using-react-forwardref\nconst _Virtualizer = React.forwardRef(Virtualizer) as <T extends object, V>(props: VirtualizerProps<T, V> & {ref?: RefObject<HTMLDivElement>}) => ReactElement;\nexport {_Virtualizer as Virtualizer};\n\nfunction defaultRenderWrapper<T extends object, V>(\n  parent: ReusableView<T, V> | null,\n  reusableView: ReusableView<T, V>\n) {\n  return (\n    <VirtualizerItem\n      key={reusableView.key}\n      reusableView={reusableView}\n      parent={parent} />\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// @ts-ignore\nimport {flushSync} from 'react-dom';\nimport {getScrollLeft} from './utils';\nimport React, {\n  CSSProperties,\n  HTMLAttributes,\n  ReactNode,\n  RefObject,\n  useCallback,\n  useEffect,\n  useRef,\n  useState\n} from 'react';\nimport {Rect, Size} from '@react-stately/virtualizer';\nimport {useLayoutEffect} from '@react-aria/utils';\nimport {useLocale} from '@react-aria/i18n';\nimport {useResizeObserver} from '@react-aria/utils';\n\ninterface ScrollViewProps extends HTMLAttributes<HTMLElement> {\n  contentSize: Size,\n  onVisibleRectChange: (rect: Rect) => void,\n  children: ReactNode,\n  innerStyle?: CSSProperties,\n  sizeToFit?: 'width' | 'height',\n  onScrollStart?: () => void,\n  onScrollEnd?: () => void,\n  scrollDirection?: 'horizontal' | 'vertical' | 'both'\n}\n\nfunction ScrollView(props: ScrollViewProps, ref: RefObject<HTMLDivElement>) {\n  let {\n    contentSize,\n    onVisibleRectChange,\n    children,\n    innerStyle,\n    sizeToFit,\n    onScrollStart,\n    onScrollEnd,\n    scrollDirection = 'both',\n    ...otherProps\n  } = props;\n\n  let defaultRef = useRef();\n  ref = ref || defaultRef;\n  let state = useRef({\n    scrollTop: 0,\n    scrollLeft: 0,\n    scrollEndTime: 0,\n    scrollTimeout: null,\n    width: 0,\n    height: 0,\n    isScrolling: false\n  }).current;\n  let {direction} = useLocale();\n\n  let [isScrolling, setScrolling] = useState(false);\n  let onScroll = useCallback((e) => {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (props.onScroll) {\n      props.onScroll(e);\n    }\n\n    flushSync(() => {\n      let scrollTop = e.currentTarget.scrollTop;\n      let scrollLeft = getScrollLeft(e.currentTarget, direction);\n\n      // Prevent rubber band scrolling from shaking when scrolling out of bounds\n      state.scrollTop = Math.max(0, Math.min(scrollTop, contentSize.height - state.height));\n      state.scrollLeft = Math.max(0, Math.min(scrollLeft, contentSize.width - state.width));\n\n      onVisibleRectChange(new Rect(state.scrollLeft, state.scrollTop, state.width, state.height));\n\n      if (!state.isScrolling) {\n        state.isScrolling = true;\n        setScrolling(true);\n\n        if (onScrollStart) {\n          onScrollStart();\n        }\n      }\n\n      // So we don't constantly call clearTimeout and setTimeout,\n      // keep track of the current timeout time and only reschedule\n      // the timer when it is getting close.\n      let now = Date.now();\n      if (state.scrollEndTime <= now + 50) {\n        state.scrollEndTime = now + 300;\n\n        clearTimeout(state.scrollTimeout);\n        state.scrollTimeout = setTimeout(() => {\n          state.isScrolling = false;\n          setScrolling(false);\n          state.scrollTimeout = null;\n\n          if (onScrollEnd) {\n            onScrollEnd();\n          }\n        }, 300);\n      }\n    });\n  }, [props, direction, state, contentSize, onVisibleRectChange, onScrollStart, onScrollEnd]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      clearTimeout(state.scrollTimeout);\n    };\n  }, []);\n\n  let updateSize = useCallback(() => {\n    let dom = ref.current;\n    if (!dom) {\n      return;\n    }\n\n    let w = dom.clientWidth;\n    let h = dom.clientHeight;\n    if (sizeToFit && contentSize.width > 0 && contentSize.height > 0) {\n      if (sizeToFit === 'width') {\n        w = Math.min(w, contentSize.width);\n      } else if (sizeToFit === 'height') {\n        h = Math.min(h, contentSize.height);\n      }\n    }\n\n    if (state.width !== w || state.height !== h) {\n      state.width = w;\n      state.height = h;\n      onVisibleRectChange(new Rect(state.scrollLeft, state.scrollTop, w, h));\n    }\n  }, [onVisibleRectChange, ref, state, sizeToFit, contentSize]);\n\n  useLayoutEffect(() => {\n    updateSize();\n  }, [updateSize]);\n  useResizeObserver({ref, onResize: updateSize});\n\n  let style: React.CSSProperties = {\n    // Reset padding so that relative positioning works correctly. Padding will be done in JS layout.\n    padding: 0,\n    ...otherProps.style\n  };\n\n  if (scrollDirection === 'horizontal') {\n    style.overflowX = 'auto';\n    style.overflowY = 'hidden';\n  } else if (scrollDirection === 'vertical') {\n    style.overflowY = 'auto';\n    style.overflowX = 'hidden';\n  } else {\n    style.overflow = 'auto';\n  }\n\n  return (\n    <div {...otherProps} style={style} ref={ref} onScroll={onScroll}>\n      <div role=\"presentation\" style={{width: contentSize.width, height: contentSize.height, pointerEvents: isScrolling ? 'none' : 'auto', position: 'relative', ...innerStyle}}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nconst ScrollViewForwardRef = React.forwardRef(ScrollView);\nexport {ScrollViewForwardRef as ScrollView};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Direction} from '@react-types/shared';\n\nexport type RTLOffsetType =\n  | 'negative'\n  | 'positive-descending'\n  | 'positive-ascending';\n\nlet cachedRTLResult: RTLOffsetType | null = null;\n\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/bvaughn/react-window/blob/master/src/createGridComponent.js\n\n// According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\nexport function getRTLOffsetType(recalculate: boolean = false): RTLOffsetType {\n  if (cachedRTLResult === null || recalculate) {\n    const outerDiv = document.createElement('div');\n    const outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n\n    const innerDiv = document.createElement('div');\n    const innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n\n    outerDiv.appendChild(innerDiv);\n\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nexport function getScrollLeft(node: HTMLElement, direction: Direction): number {\n  let {scrollLeft} = node;\n\n  // scrollLeft in rtl locales differs across browsers, so normalize.\n  // See comment by getRTLOffsetType below for details.\n  if (direction === 'rtl') {\n    let {scrollWidth, clientWidth} = node;\n    switch (getRTLOffsetType()) {\n      case 'negative':\n        scrollLeft = -scrollLeft;\n        break;\n      case 'positive-descending':\n        scrollLeft = scrollWidth - clientWidth - scrollLeft;\n        break;\n    }\n  }\n\n  return scrollLeft;\n}\n\nexport function setScrollLeft(node: HTMLElement, direction: Direction, scrollLeft: number) {\n  if (direction === 'rtl') {\n    switch (getRTLOffsetType()) {\n      case 'negative':\n        scrollLeft = -scrollLeft;\n        break;\n      case 'positive-ascending':\n        break;\n      default: {\n        const {clientWidth, scrollWidth} = node;\n        scrollLeft = scrollWidth - clientWidth - scrollLeft;\n        break;\n      }\n    }\n  }\n\n  node.scrollLeft = scrollLeft;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Direction} from '@react-types/shared';\nimport {LayoutInfo, ReusableView} from '@react-stately/virtualizer';\nimport React, {CSSProperties, useRef} from 'react';\nimport {useLocale} from '@react-aria/i18n';\nimport {useVirtualizerItem} from './useVirtualizerItem';\n\ninterface VirtualizerItemProps<T extends object, V> {\n  reusableView: ReusableView<T, V>,\n  parent?: ReusableView<T, V>,\n  className?: string\n}\n\nexport function VirtualizerItem<T extends object, V>(props: VirtualizerItemProps<T, V>) {\n  let {className, reusableView, parent} = props;\n  let {direction} = useLocale();\n  let ref = useRef();\n  useVirtualizerItem({\n    reusableView,\n    ref\n  });\n\n  return (\n    <div role=\"presentation\" ref={ref} className={className} style={layoutInfoToStyle(reusableView.layoutInfo, direction, parent && parent.layoutInfo)}>\n      {reusableView.rendered}\n    </div>\n  );\n}\n\nlet cache = new WeakMap();\nexport function layoutInfoToStyle(layoutInfo: LayoutInfo, dir: Direction, parent?: LayoutInfo | null): CSSProperties {\n  let xProperty = dir === 'rtl' ? 'right' : 'left';\n  let cached = cache.get(layoutInfo);\n  if (cached && cached[xProperty] != null) {\n    if (!parent) {\n      return cached;\n    }\n\n    // Invalidate if the parent position changed.\n    let top = layoutInfo.rect.y - parent.rect.y;\n    let x = layoutInfo.rect.x - parent.rect.x;\n    if (cached.top === top && cached[xProperty] === x) {\n      return cached;\n    }\n  }\n\n  let style: CSSProperties = {\n    position: layoutInfo.isSticky ? 'sticky' : 'absolute',\n    overflow: layoutInfo.allowOverflow ? 'visible' : 'hidden',\n    top: layoutInfo.rect.y - (parent ? parent.rect.y : 0),\n    [xProperty]: layoutInfo.rect.x - (parent ? parent.rect.x : 0),\n    transition: 'all',\n    WebkitTransition: 'all',\n    WebkitTransitionDuration: 'inherit',\n    transitionDuration: 'inherit',\n    width: layoutInfo.rect.width,\n    height: layoutInfo.rect.height,\n    opacity: layoutInfo.opacity,\n    zIndex: layoutInfo.zIndex,\n    transform: layoutInfo.transform,\n    contain: layoutInfo.allowOverflow ? 'size layout style' : 'size layout style paint'\n  };\n\n  cache.set(layoutInfo, style);\n  return style;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useCallback} from 'react';\nimport {ReusableView, Size} from '@react-stately/virtualizer';\nimport {useLayoutEffect} from '@react-aria/utils';\n\ninterface VirtualizerItemOptions<T extends object, V> {\n  reusableView: ReusableView<T, V>,\n  ref: RefObject<HTMLElement>\n}\n\nexport function useVirtualizerItem<T extends object, V>(options: VirtualizerItemOptions<T, V>) {\n  let {reusableView: {layoutInfo, virtualizer}, ref} = options;\n\n  let updateSize = useCallback(() => {\n    let size = getSize(ref.current);\n    virtualizer.updateItemSize(layoutInfo.key, size);\n  }, [virtualizer, layoutInfo.key, ref]);\n\n  useLayoutEffect(() => {\n    if (layoutInfo.estimatedSize) {\n      updateSize();\n    }\n  });\n\n  return {updateSize};\n}\n\nfunction getSize(node: HTMLElement) {\n  // Reset height before measuring so we get the intrinsic size\n  let height = node.style.height;\n  node.style.height = '';\n  let size = new Size(node.scrollWidth, node.scrollHeight);\n  node.style.height = height;\n  return size;\n}\n"],"names":[],"version":3,"file":"module.js.map"}